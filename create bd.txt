sqlplus sys as sysdba
123
------------------------------
ALTER SESSION SET CONTAINER = XEPDB1;


CREATE USER dudegodb IDENTIFIED BY 123;

GRANT CONNECT, RESOURCE TO dudegodb;

sqlplus sys/123@hostname:port/XEPDB1

ALTER SESSION SET CONTAINER = XEPDB1;




CREATE TABLE Tb_customer (
    id_customer INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    dui_customer NVARCHAR2(50) NOT NULL,
    driving_lic NVARCHAR2(50) NOT NULL,
    name_customer NVARCHAR2(100) NOT NULL,
    phone_number NVARCHAR2(20),
    address NVARCHAR2(255)
)TABLESPACE dudegospaceu;

CREATE TABLE Tb_cars (
    id_car INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    number_plate NVARCHAR2(20) NOT NULL,
    brand NVARCHAR2(50) NOT NULL,
    model NVARCHAR2(50) NOT NULL,
    color NVARCHAR2(20),
    year INT NOT NULL
)TABLESPACE dudegospaceu;

CREATE TABLE Tb_branches (
    id_branch INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name_branch NVARCHAR2(100) NOT NULL,
    address NVARCHAR2(255),
    phone_number_branch NVARCHAR2(20)
)TABLESPACE dudegospaceu;

CREATE TABLE Tb_salesperson (
    id_salesperson INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name_salesperson NVARCHAR2(100) NOT NULL,
    code_salesperson NVARCHAR2(50) NOT NULL
)TABLESPACE dudegospaceu;

CREATE TABLE Tb_invoice (
    id_invoice INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    invoice_number NVARCHAR2(50) NOT NULL,
    id_customer INT,
    id_branch INT,
    id_salesperson INT,
    FOREIGN KEY (id_customer) REFERENCES Tb_customer(id_customer),
    FOREIGN KEY (id_branch) REFERENCES Tb_branches(id_branch),
    FOREIGN KEY (id_salesperson) REFERENCES Tb_salesperson(id_salesperson)
)TABLESPACE dudegospaceu;

CREATE TABLE Tb_invoice_details (
    id_invoice_details INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_invoice INT,
    id_car INT,
    day_duration INT NOT NULL,
    price_day NUMBER(10, 2) NOT NULL,
    rental_deposit NUMBER(10, 2) NOT NULL,
    FOREIGN KEY (id_invoice) REFERENCES Tb_invoice(id_invoice),
    FOREIGN KEY (id_car) REFERENCES Tb_cars(id_car)
)TABLESPACE dudegospaceu;


crear table space:

CREATE TABLESPACE dudegospaceu
    DATAFILE 'dudegospaceu.dbf' SIZE 100M
    AUTOEXTEND ON
    NEXT 10M
    MAXSIZE UNLIMITED
    LOGGING
    DEFAULT STORAGE ( INITIAL 10M NEXT 10M );




asignar tablespace:

ALTER USER dudegodb DEFAULT TABLESPACE dudegospaceu;

dar permisos desde usuarui sys 
GRANT UNLIMITED TABLESPACE ON dudegospaceu TO dudegodb;



INSERTAR REGISTROS DE PRUEBA:

-- Insertar datos en Tb_branches
INSERT INTO Tb_branches (name_branch, address, phone_number_branch)
VALUES ('Downtown', '123 Main St, Anytown, USA', '555-1234');

-- Insertar datos en Tb_customer
INSERT INTO Tb_customer (dui_customer, driving_lic, name_customer, phone_number, address)
VALUES ('D1234567', 'L1234567', 'John Doe', '555-5678', '456 Elm St, Anytown, USA');

-- Insertar datos en Tb_cars
INSERT INTO Tb_cars (number_plate, brand, model, color, year)
VALUES ('ABC123', 'Toyota', 'Camry', 'Blue', 2021);

-- Insertar datos en Tb_salesperson
INSERT INTO Tb_salesperson (name_salesperson, code_salesperson)
VALUES ('Jane Smith', 'SP001');

-- Insertar datos en Tb_invoice
INSERT INTO Tb_invoice (invoice_number, id_customer, id_branch, id_salesperson)
VALUES ('INV001', 1, 1, 1);

-- Insertar datos en Tb_invoice_details
INSERT INTO Tb_invoice_details (id_invoice, id_car, day_duration, price_day, rental_deposit)
VALUES (1, 1, 7, 30.00, 100.00);


















